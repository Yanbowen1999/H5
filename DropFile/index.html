<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>上传头像</title>
		<style>
			#result{
				border:2px solid gray;
				width:180px;
				height:180px;
			}
		</style>
	</head>
	<body>
		<h2>上传头像</h2>
		<div id="result" ></div>
	</body>
	<script>
		if (typeof FileReader == 'undefined' ){
	   		result.innerHTML = "<p>抱歉，你的浏览器不支持 FileReader</p>";
	   		file.setAttribute( 'disabled','disabled' );
		}
		var result=document.getElementById('result');
		
		result.addEventListener('drop',function(e){
			e.preventDefault();
			var txt=e.dataTransfer.files[0];
			var reader = new FileReader();
			reader.readAsDataURL(txt);
			reader.onload=function(e){
				result.innerHTML='<img src="'+reader.result+'" alt=""/>';
			}
		},false);
		result.addEventListener('dragover',function(e){
			e.preventDefault();
		},false)
	</script>
</html>
